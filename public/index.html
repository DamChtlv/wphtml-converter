<!DOCTYPE html lang="en">
<html>
<head>
	<title>WPHTML Converter</title>
</head>
<body>
	<h1>WPHTML Converter</h1>
	<p>Convert WordPress block HTML to its JSON / JavaScript object form.</p>
	<form action="/process" method="POST">
		<textarea name="block" rows="5" cols="40"></textarea>
		<br>
		<button type="submit">Submit</button>
	</form>
	<pre>
		<code id="result"></code>
	</pre>
	<script type="text/javascript">
		const form = document.querySelector('form');
		const resultDiv = document.getElementById('result');

		form.addEventListener('submit', async (event) => {
			event.preventDefault();

			const data = new URLSearchParams(new FormData(form));
			const response = await fetch(form.action, {
				method: form.method,
				body: data
			});

			const processedData = await response.text();
			resultDiv.textContent = processedData;
		});
	</script>
</body>
</html>
